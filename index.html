<!DOCTYPE html>
<html>
<head>
    <title>Innowave Feedback</title>
    <style>
        body { 
            font-family: Arial; 
            max-width: 600px; 
            margin: 30px auto; 
            padding: 10px; 
        }
        textarea { width: 100%; height: 120px; padding: 10px; }
        button { padding: 10px 20px; font-size: 16px; margin-top: 10px; }
    </style>
</head>
<body>

<h2>Innowave – Feedback Form</h2>
<p>We’d love to hear your thoughts about today’s session!</p>

<textarea id="feedback" placeholder="Type your feedback here..."></textarea>
<br>
<button onclick="submitFeedback()">Submit Feedback</button>

<p id="status"></p>

<!-- Firebase SDKs -->
<script type="module">
    // Import Firebase modules
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
    import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

    // Your Firebase configuration
    const firebaseConfig = {
        apiKey: "AIzaSyCoftkFQbJkbNsIVO9xK-V53I-5lmXS-dg",
        authDomain: "innowave-feedback.firebaseapp.com",
        projectId: "innowave-feedback",
        storageBucket: "innowave-feedback.firebasestorage.app",
        messagingSenderId: "841020171244",
        appId: "1:841020171244:web:1fce162b2f9c87ed43d6c9",
        measurementId: "G-9JH49Y812K"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // Submit feedback
    window.submitFeedback = async function () {
        let text = document.getElementById("feedback").value;

        if (text.trim() === "") {
            document.getElementById("status").innerHTML = "Please write something!";
            return;
        }

        try {
            await addDoc(collection(db, "feedbacks"), {
                feedback: text,
                time: new Date()
            });

            document.getElementById("status").innerHTML = "Thank you! Feedback submitted ✔";
            document.getElementById("feedback").value = "";
        } 
        catch (error) {
            console.log(error);
            document.getElementById("status").innerHTML = "Error submitting feedback ❌";
        }
    }
</script>

</body>
</html>
